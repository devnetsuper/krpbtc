<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>KRP BTC Documentation</title>
	<link rel="stylesheet" href="styles.css" />
	<script src="https://kit.fontawesome.com/c8e4d183c2.js" crossorigin="anonymous"></script>
</head>
<body>
	<div class="app">
		<div class="menu-toggle">
			<div class="hamburger">
				<span></span>
			</div>
		</div>

		<aside class="sidebar" /*style="position: sticky;"*/>
			<h3>KRP BTC</h3>
			
			<nav class="menu">
				<a href="#" class="menu-item is-active">Introduction</a>
				<a href="#work-specialization" class="menu-item">Work Specialization</a>
				<a href="#documentation" class="menu-item">Documentation</a>
				<a href="#formalization" class="menu-item">Formalization</a>
				<a href="#openbitcoin" class="menu-item">Open Bitcoin for Excel</a>
				<a href="#" class="menu-item">Packages</a>
				<a href="#" class="menu-item">Code Base</a>
				<a href="mailto:nescobar@krpgroup.com" class="menu-item">Contact</a>
			</nav>

		</aside>

		<main class="content flex flex-1">
			<h1>Digital Assets Internal Guide</h1>
			<p>An organizational structure document. To coordinate large numbers of workloads more efficiently and avoid chaos. Detailed program development guide for continuity.
				This guide contains information about department operations and structure, code base and documentation, span of control, and the introduction of internal software.
			</p>
			<div class="content-row">
				<figure>
					<img src="./assets/svg-spreadsheet.svg" alt="">
				</figure>
			</div>
            <section id="work-specialization">
                <h1>Work Specialization</h1>
                <p>The Department of Digital Assets provides the technical controls and advisory to successfully meet the industry standards and regulations for the auditing and accounting of digital assets.</p>
				<h4>Verification of transactions</h4>
				<ul>
					<li>Ensure all transactions have been settled on the blockchain.</li>
					<li>Match data record provided by client focusing on the date, transaction hash, amount, asset type and destination address.</li>
					<li>Determine the status of the transaction as verified or invalid.</li>
				</ul>
				<h4>Transaction dashboard</h4>
				<ul>
					<li>Organize data clumps in an accountant-friendly manner.</li>
					<li>Label transactions as incoming or outgoing.</li>
				</ul>
				<h4>Daily price and historical data</h4>
				<ul>
					<li>Get the closing price of major assets in any time frame.</li>
				</ul>
				<h4>Transaction rollback</h4>
				<ul>
					<li>Determine the balance of any wallet address at year-end (or custom date).</li>
					<li>Perform any tasks related to ownership ceremonies, such as ownership ceremony rollbacks.</li>
				</ul>
				<h4>Unrealized gains or losses</h4>
				<ul>
					<li>Provide the closest P/L estimate per transaction for every major asset, and inevitably get the closest estimate of wallet address P/L.</li>
				</ul>
				<h4>Revenue or testing models</h4>
				<ul>
					<li>Test revenue correctness by creating scripted calculators.</li>
					<li>Test mining revenue by creating mining output models dependant on network hash rate, hardware and block rewards.</li>
				</ul>
				<h4>Internal Node</h4>
				<ul>
					<li>Operate and monitor KRP’s full bitcoin node to minimize the reliance of trust on third parties.</li>
					<li>Operate and monitor KRP’s Electrum Server, sitting on top of the bitcoin node, to query and index the blockchain.</li>
				</ul>
				<h4>Hardware</h4>
				<ul>
					<li>Purchasing and maintaining hardware, hardware specifications and general infrastructure architecture.</li>
				</ul>
				<h4>Software</h4>
				<ul>
					<li>Development of applications and programs for internal or external use.</li>
					<li>Development of proprietary APIs that export data directly from our full node.</li>
					<li>Product management and integration of front end, back end and deployment.</li>
				</ul>
				<h4>Documentation of Code</h4>
				<ul>
					<li>Maintain and update code base.</li>
				</ul>
				<h4>Code Maintenance</h4>
				<ul>
					<li>Perform regular code reviews for debugging, updating and upgrading.</li>
					<li>Write new code when needed.</li>
				</ul>
				<h4>Whitepapers</h4>
				<ul>
					<li>In-depth analysis of project whitepapers to mitigate risk.</li>
				</ul>
            </section>
			<section id="documentation">
				<h1>Documentation</h1>
				<p>Ultimately, we can encapsulate all duties and responsibilities regarding digital assets under 3 major categories: software development, client files and assurance controls.</p>
				<h4>Software Development</h4>
				<div class="content-row">
					<figure class="image--wrapper">
						<img src="./assets/software-dev-old.png" class="image" alt="">
					</figure>
				</div>
				<p>Note: this is the old version behind the scenes.</p>
				<ul>
					<li>Using third-party APIs from exchanges and block explorers, we are able to make calls that retrieve information details for wallet addresses, transactions and block confirmations. On the other end of those calls, is an internal python program that provides a graphical user interface to navigate the information retrieved more easily.</li>
					<li>This measure was adopted as the quickest way to handle large volume clients, given the existing workload. After cleaning the pipeline, and essentially relieving the workload, we are now opting for an application that prioritizes security and customization, thus eliminating the third parties involved.</li>
					<li>This grants KRP the flexibility of developing and customizing internal tools per our accountants' specifications. Additionally, our data is more reliable, since it is exported using APIs developed internally, communicating with our own full bitcoin node.</li>
					<li>Given the hardware complications (storage capacity) associated with running an Ethereum node, for example, I, as Digital Assets Manager, have made the technical choice to continue to rely on third parties for this data, such as Infura or Etherscan. And given the lack of popularity or liquidity of other cryptocurrencies held by our clients, I also made the time-effective decision to rely on third parties as well.</li>
					<li>Effective October 1st, 2022, I, Norma Escobar, will be developing software applications exclusively for the Bitcoin Network, and I trust the firm to agree with my decision.</li>
				</ul>
				<p>This is what the future holds:</p>
				<div class="content-row">
					<figure class="image--wrapper">
						<img src="./assets/openbtc-network.png" class="image" alt="">
					</figure>
				</div>
				<p>New version updates:</p>
				<ul>
					<li>We are now running a full bitcoin node internally. This means, that KRP has an entire copy of the entire Bitcoin blockchain since Genesis block. The new transactions are automatically processed and up to date. As of right now, there are less than 350 discoverable nodes in Canada.</li>
					<li>In order to query the entire blockchain efficiently, and retrieve transactions by custom search, we append Electrum Server to the node. This allows us to develop python scripts to query the entire blockchain and retrieve information as needed.</li>
					<li>Everything from above is more than sufficient to establish perform a satisfactory audit. Regardless, there are more additions we can build internally to monetize the beautiful infrastructure we have built.</li>
					<li>APIs are a great tool for auditing digital assets. There is a lot of robust APIs out there available for free. Other technology companies, opt for the option to sell API keys. This would grant other parties access to our full node and server. I believe in my heart, we as a firm, have the capabilities to become the industry standard for bitcoin APIs for public practice.</li>
					<li>After the back end is complete, it's time to work on user interface:</li>
				</ul>
				<div class="content-row">
					<figure class="image--wrapper">
						<img src="./assets/openbtc-windows.png" class="image" alt="">
					</figure>
				</div>
				<h4>Client Files</h4>
				<ul>
					<li>Verification of transactions</li>
					<li>Transaction dashboard</li>
					<li>Daily prices and historical data</li>
					<li>Transaction rollback</li>
					<li>Unrealized gains or losses</li>
					<li>Revenue or testing models</li>
				</ul>
				<h4>Assurance Controls</h4>
				<ul>
					<li>Act as the first point of contact for any technical questions related to the digital assets industry</li>
					<li>Act as the second layer of confirmation for: wallet balances, proof of funds, verification of funds, tokens labelled as scams, APY.</li>
					<li>Perform routine controls on our code base to add or remove feature YOU desire.</li>
					<li>Ensure that all programs developed internally are up to the industry standard and expectations.</li>
					<li>Whitepapers analysis.</li>
				</ul>
			</section>
			<section id="formalization">
				<h1>Formalization</h1>
				<p>The following contains a guide to organizing client data for verification of transactions on the blockchain, a list of the resources used during the verification process and an appendix. This guide should be considered the standard for on-chain work.</p>
				<ul>
					<li>Organizing client data</li>
					<li>Block explorers</li>
					<li>Mining</li>
					<li>Common misunderstandings</li>
				</ul>
				<h4>Organizing Client Data</h4>
				<p>Most of the time our clients will give us a chunk of data in a CSV file. While the data looks intimidating, there are only a few columns that will grant us sufficient information to verify the transactions on the blockchain.</p>
				<table>
					<tr>
						<th>Date</th>
						<th>Transaction Hash</th>
						<th>Transaction Value</th>
						<th>Asset</th>
						<th>Destination Address</th>
					</tr>
				</table>
				<p>After the 2.0. version update of openbtc for excel, we no longer rely solely on the data provided by our clients. We are able to extract those values from a single input: wallet address/es.</p>
				<p><strong>Moving forward, all I require from you is the list of address/es.</strong></p>
				<h4>Block Explorers</h4>
				<p>Each network has its own set of tools used for blockchain exploration. Since cryptocurrencies are open-source projects, most of the tools out there are free and used by accountants and developers all over the world.</p>
				<table>
					<tr>
						<th>Asset/s or Network</th>
						<th>Block Explorer URL</th>
					</tr>
					<tr>
						<td>Bitcoin</td>
						<td>https://oxt.me/ &amp; https://mempool.space</td>
					</tr>
					<tr>
						<td>Bitcoin, Ethereum, Bitcoin Cash</td>
						<td>https://www.blockchain.com/explorer</td>
					</tr>
					<tr>
						<td>Bitcoin, Smart Contract Platfroms</td>
						<td>https://explorer.bitquery.io/</td>
					</tr>
					<tr>
						<td>Ethereum, ERC-20, ERC-721, ERC-1155</td>
						<td>https://etherscan.io/</td>
					</tr>
					<tr>
						<td>Polygon</td>
						<td>https://polygonscan.com/</td>
					</tr>
					<tr>
						<td>Litecoin</td>
						<td>https://litecoinblockexplorer.net/</td>
					</tr>
					<tr>
						<td>Ripple</td>
						<td>https://xrpscan.com/</td>
					</tr>
					<tr>
						<td>Stellar</td>
						<td>https://stellarchain.io/</td>
					</tr>
					<tr>
						<td>Cosmos</td>
						<td>https://atomscan.com/</td>
					</tr>
					<tr>
						<td>Binance Smart Chain</td>
						<td>https://bscscan.com/</td>
					</tr>
					<tr>
						<td>Monero</td>
						<td>https://localmonero.co/blocks</td>
					</tr>
					<tr>
						<td>Avalanche</td>
						<td>https://explorer.avax.network/</td>
					</tr>
				</table>
				<p>It is preferred to use the native block explorers for each asset. Sometimes the same address can be used for different networks, and using the native block explorer reduces that risk.</p>
				<h4>Mining</h4>
				<p>The strategy to test revenue is almost identical for all proof-of-work networks. There are three components that will determine the profitability of operations:</p>
				<ul>
					<li>Hardware capacity</li>
					<li>Client's network hash rate share</li>
					<li>Operational expenses (electricty, mining fees)</li>
				</ul>
				<p><strong>Hardware capacity</strong></p>
				<p>Since mining is a highly monopolized field, most likely the mining equipment is being made by the same companies. All we are concerned with is determining 3 specific characteristics of any mining equipment:</p>
				<ul>
					<li>Hash rate capacity</li>
					<li>Power consumption</li>
					<li>Mining algorithm</li>
				</ul>
				<p>The hardware specifications are easy to gather. On your web browser type “equipment model in question + specs”.</p>
				<p><strong>Client's network hash rate share</strong></p>
				<p>The formula to calculate our client’s percentage of the total network hash rate that their miner represents is the following:</p>
				<p><span>Client's hash rate share = equipment hash rate/ daily network hash rate</span></p>
				<p>Now, we have to determine the total daily block reward. So for example, a Bitcoin block is mined every 10 minutes or so:</p>
				<p><span>Daily block reward = Mining reward * blocks per day</span></p>
				<p>Finally, we have to determine the amounts of coins we will get according to our mining capacity:</p>
				<p><span>Client’s daily coins = total daily block reward * client’s hash rate share</span></p>
				<p><strong>Mining algorithm</strong></p>
				<p>The mining algorithm will determine the asset being mined. For example, if our client mines using NVIDIA GPUs, we automatically know they are not mining for Bitcoin. Maybe back in the early years, when Bitcoin mining wasn’t as competitive, however, now it would be virtually impossible to compete against ASIC miners.</p>
				<h4>Common Misunderstandings</h4>
				<ul>
					<li>The name “cryptocurrencies” is very misleading because not all cryptos were created to act as currencies. As a matter of fact, most cryptocurrencies out there were created for other purposes unrelated to money payments and currency. Bitcoin’s whitepaper explicitly states that it was created under the idea of becoming a global payment network.</li>
					<li>Ethereum, for example, was created to become a super-powerful decentralized computer that gives life to decentralized applications (also known as DApps). Ether is the currency needed to pay for computing power and the more people use the Ethereum Virtual Machine, the more demand there is for Ether, hence the growth in price</li>
					<li>Understanding this is crucial in order to recognize wallet activity trends and behaviour patterns. For example, if our client holds a significant amount of ATOM and does not sell it, does this mean they haven’t profited? Absolutely not. ATOM, like many other coins, is a proof of stake. Meaning that by simply staking the coins, a client can generate anywhere between 5-20% yield</li>
					<li>The yield is significantly higher for clients participating in liquidity farms, whose sole purpose is to generate profits by the tokens received as part of their reward for having a stake in the pool. At first, it can be intimidating to recognize patterns, but it does get easier the more you learn about the different cryptocurrency projects out there.</li>
					<li>A good understanding of our client’s business model, and the crypto project they are invested in, will give you a great notion as to how exactly they make money. This is very helpful to determine how revenue can be tested. I wish there was a single strategy that could give us a conclusive revenue test, however, due to the nature of cryptocurrencies and the projects behind them, each client will most likely require a different auditing strategy</li>
				</ul>
			</section>
			<section id="openbitcoin">
				<h1>Introduction to Open Bitcoin for Excel</h1>
				<div class="content-row">
					<figure>
						<img src="./assets/openbtc-windows.png" alt="">
					</figure>
				</div>
				<p>Formerly known as auditcoin.</p>
				<p>Open Bitcoin for Excel (“openbtc” for short) is an open-source Python program that provides detailed wallet information about prices, transactions, and blockchain confirmations more directly into excel. It was born from a lack of existing libraries.</p>
				<p>Understand that there is a world of existing software products designed for cryptocurrency accounting. However, openbtc is the only program created specifically for our needs. That is, handling volumes of 1,000,000 plus transactions, sent/received view mode, individual verification of each transaction, and historical data that seamlessly integrate with excel.</p>
				<p>The development of the program started in February 2022, and it continues to be updated and maintained by Norma Escobar.</p>
				<h4>Project Description</h4>
				<ul>
					<li>No third-parties</li>
					<li>Open-source</li>
					<li>Verify transactions</li>
					<li>Get historical price data</li>
					<li>Calculate unrealized gains or losses</li>
					<li>Friendly user interface</li>
				</ul>
			</section>
			<footer>
				<div class="footer-row">
					<a href="#">
						<figure>
							<img src="./assets/logo.png" alt="">
						</figure>
					</a>
					<div class="footer-copyright">Copyright © 2022 Kingston Ross & Pasnak LLP</div>
				</div>
			</footer>
		</main>
	</div>

	<script>
		const menu_toggle = document.querySelector('.menu-toggle');
		const sidebar = document.querySelector('.sidebar');

		menu_toggle.addEventListener('click', () => {
			menu_toggle.classList.toggle('is-active');
			sidebar.classList.toggle('is-active');
		});
	</script>

</body>
</html>
